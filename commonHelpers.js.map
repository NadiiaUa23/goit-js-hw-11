{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["//У файлі pixabay-api.js зберігай функції для HTTP-запитів\n//мой ключь\nconst apiKey = '43983774-8711aa48aacb0ae1050be5e44';\n\nexport function fetchImages(searchQuery) {\n    const url = `https://pixabay.com/api/?key=${apiKey}&q=${searchQuery}&image_type=photo&orientation=horizontal&safesearch=true`\n\n\n    //шлях до даних на бекенд\n return fetch(url)\n .then(response => {\n   if (!response.ok) {\n       throw new Error(response.status);\n     }\n     return response.json();\n })\n .then(data => {\n    //.hits єто название масива на сервере \n    return data.hits;\n })\n .catch(error => {\n    console.error('Error fetching images:', error.message);\n    throw error;\n });\n}\n\n\n\n\n","//У файлі render-functions.js створи функції для відображення елементів інтерфейсу.\n// Функция для очистки галереи\nexport function clearGallery() {\n    // Находим элемент галереи на странице\n    const galleryContainer = document.querySelector('.gallery');\n    // Очищаем содержимое галереи\n    galleryContainer.innerHTML = '';\n}\n\n// Функция для отображения изображений в галерее\nexport function renderImages(images) {\n    // находим елемент \n    const galleryContainer = document.querySelector('.gallery');\n\n//     // Проходим по каждому изображению из массива изображений\n//     images.forEach(image => {\n//    // Створюємо посилання для великого зображення з використанням URL largeImageURL\n//    const imageLink = document.createElement('a');\n//    imageLink.href = image.largeImageURL;\n//    imageLink.setAttribute('data-lightbox', 'gallery'); // Додаємо атрибут data-lightbox для SimpleLightbox\n// //на будущее :Цей код створює посилання для кожного зображення з великою версією зображення та додає його до галереї. Кожне зображення обгортається посиланням, і при кліку на нього відображається велика версія зображення за допомогою бібліотеки SimpleLightbox.\n//         const cardHtml = `\n//         <div class=\"card\">\n//         <img src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n//         <div class=\"card-details\">\n//             <p>Likes: ${image.likes}</p>\n//             <p>Views: ${image.views}</p>\n//             <p>Comments: ${image.comments}</p>\n//             <p>Downloads: ${image.downloads}</p>\n//         </div>\n//    </div>\n// `;\n// imageLink.innerHTML = cardHtml;\n// galleryContainer.appendChild(imageLink);\n//     });\n\n   const imagesHtml = images.map(image => `\n   <a href=\"${image.largeImageURL}\" data-lightbox=\"gallery\">\n   <div class=\"card\">\n   <img src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n   <div class=\"card-details\">\n   <p>Likes: ${image.likes}</p>\n   <p>Views: ${image.views}</p>\n   <p>Comments: ${image.comments}</p>\n   <p>Downloads: ${image.downloads}</p>\n\n   </div>\n   </div>\n   </a>\n   `).join('');\n\n   galleryContainer.insertAdjacentHTML('beforeend', imagesHtml);\n};\n","//У файлі main.js напиши всю логіку роботи додатка.\n\nimport { fetchImages } from './js/pixabay-api.js';\nimport { clearGallery ,renderImages } from './js/render-functions.js';\n\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst searchForm = document.getElementById('searchForm');\nconst searchInput = document.getElementById('searchInput');\nconst loader = document.querySelector('.loader');\nconst lightbox = new SimpleLightbox('.gallery a');\n\n// Функция для отображения сообщения об ошибке с использованием iziToast\nfunction showError(message) {\n    iziToast.error({\n        title: 'Error',\n        message: message,\n        position: 'topRight',\n    });\n}\n\n// Обработчик события отправки формы\nsearchForm.addEventListener('submit', (event) => {\n    event.preventDefault();\n\n    const searchTerm = searchInput.value.trim();\n    if (!searchTerm) {\n        showError('Please enter a search term');\n        return;\n    }\n      // Показати індикатор завантаження після натискання кнопки\n      loader.classList.add('show');\n      clearGallery();\n\n    fetchImages(searchTerm)\n        .then(images => {\n  // Затримка на 2 секунди перед відображенням результатів\n  setTimeout(() => {\n    // Приховати індикатор завантаження після завершення запиту\n    loader.classList.remove('show');\n\n    if (images.length === 0) {\n        showError('Sorry, there are no images matching your search query. Please try again!');\n    } else {\n        renderImages(images);\n        searchInput.value = '';\n        lightbox.refresh();   \n    }\n}, 2000); // 2 секунди затримки\n})\n        .catch(error => {\n               // Приховати індикатор завантаження у випадку помилки\n        loader.classList.remove('show');\n\n            console.error('Error fetching images:', error.message);\n            showError('Failed to fetch images. Please try again later.');\n        });\n});\n\n"],"names":["apiKey","fetchImages","searchQuery","url","response","data","error","clearGallery","galleryContainer","renderImages","images","imagesHtml","image","searchForm","searchInput","loader","lightbox","SimpleLightbox","showError","message","iziToast","event","searchTerm"],"mappings":"6vBAEA,MAAMA,EAAS,qCAER,SAASC,EAAYC,EAAa,CACrC,MAAMC,EAAM,gCAAgCH,CAAM,MAAME,CAAW,2DAItE,OAAO,MAAMC,CAAG,EACf,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACrB,CAAE,EACA,KAAKC,GAEIA,EAAK,IACd,EACA,MAAMC,GAAS,CACb,cAAQ,MAAM,yBAA0BA,EAAM,OAAO,EAC/CA,CACV,CAAE,CACF,CCtBO,SAASC,GAAe,CAE3B,MAAMC,EAAmB,SAAS,cAAc,UAAU,EAE1DA,EAAiB,UAAY,EACjC,CAGO,SAASC,EAAaC,EAAQ,CAEjC,MAAMF,EAAmB,SAAS,cAAc,UAAU,EAwBrDG,EAAaD,EAAO,IAAIE,GAAS;AAAA,cAC5BA,EAAM,aAAa;AAAA;AAAA,eAElBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,eAEtCA,EAAM,KAAK;AAAA,eACXA,EAAM,KAAK;AAAA,kBACRA,EAAM,QAAQ;AAAA,mBACbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,IAK9B,EAAE,KAAK,EAAE,EAEVJ,EAAiB,mBAAmB,YAAaG,CAAU,CAC9D,CCrCA,MAAME,EAAa,SAAS,eAAe,YAAY,EACjDC,EAAc,SAAS,eAAe,aAAa,EACnDC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAW,IAAIC,EAAe,YAAY,EAGhD,SAASC,EAAUC,EAAS,CACxBC,EAAS,MAAM,CACX,MAAO,QACP,QAASD,EACT,SAAU,UAClB,CAAK,CACL,CAGAN,EAAW,iBAAiB,SAAWQ,GAAU,CAC7CA,EAAM,eAAc,EAEpB,MAAMC,EAAaR,EAAY,MAAM,KAAI,EACzC,GAAI,CAACQ,EAAY,CACbJ,EAAU,4BAA4B,EACtC,MACH,CAECH,EAAO,UAAU,IAAI,MAAM,EAC3BR,IAEFN,EAAYqB,CAAU,EACjB,KAAKZ,GAAU,CAEtB,WAAW,IAAM,CAEfK,EAAO,UAAU,OAAO,MAAM,EAE1BL,EAAO,SAAW,EAClBQ,EAAU,0EAA0E,GAEpFT,EAAaC,CAAM,EACnBI,EAAY,MAAQ,GACpBE,EAAS,QAAO,EAExB,EAAG,GAAI,CACP,CAAC,EACQ,MAAMV,GAAS,CAEhBS,EAAO,UAAU,OAAO,MAAM,EAE1B,QAAQ,MAAM,yBAA0BT,EAAM,OAAO,EACrDY,EAAU,iDAAiD,CACvE,CAAS,CACT,CAAC"}